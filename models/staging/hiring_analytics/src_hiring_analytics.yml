sources:
  - name: raw
    description: Raw hiring analytics tables from source system
    database: DBT_PROJECT
    schema: RAW
    freshness:
      warn_after: {count: 12, period: hour}
      error_after: {count: 24, period: hour}
    loaded_at_field: updated_at
    tables:
      - name: candidates
        description: Raw candidate information
        freshness:
          warn_after: {count: 6, period: hour}
          error_after: {count: 12, period: hour}
      - name: employees
        description: Raw employees information
        freshness:
          warn_after: {count: 1, period: day}
          error_after: {count: 3, period: day}
      - name: interviews
        description: Raw interview records
        freshness:
          warn_after: {count: 12, period: hour}
          error_after: {count: 24, period: hour}
      - name: job_functions
        description: Raw job functions data
        freshness:
          warn_after: {count: 1, period: day}
          error_after: {count: 3, period: day}
      - name: skills
        description: Raw skills data
        freshness:
          warn_after: {count: 1, period: day}
          error_after: {count: 3, period: day}
      - name: country_codes
        description: Raw country codes data
        freshness:
          warn_after: {count: 1, period: day}
          error_after: {count: 3, period: day}

models:
  - name: stg_country_codes
    description: Staging model for country codes (short code and name)
    schema: stg
    materialized: table
    columns:
      - name: country_code
        description: Two-character country code (first two chars of source `code`)
        column_type: varchar(2)
      - name: country_name
        description: Country name exactly 50 characters (truncated and padded with spaces)
        column_type: varchar(50)
